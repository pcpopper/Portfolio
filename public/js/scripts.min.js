function getDimensions(){viewerHeight=$(window).height()-(elements.navMenu.height()+11),viewerWidth=$(window).width()-25}function setDimensions(){$.each(sections,function(t,e){e.show&&$("#"+t).css({"min-height":viewerHeight+"px"})}),elementsInfo={blobAbout:{width:{start:viewerWidth-300-.1*viewerWidth+"px"},"margin-left":{start:.05*viewerWidth+150+"px"}},blobContact:{width:{start:.66*viewerWidth}},blobHome:{"margin-left":{init:-350,start:.15*viewerWidth,mid:.15*viewerWidth,end:-350},top:{start:(viewerHeight-elements.blobHome.height())/2+"px"}},divMe:{"margin-left":{start:.05*viewerWidth+"px"}}},$.each(elementsInfo,function(t,e){var n={};$.each(e,function(t,e){n[t]=initLoad&&"undefined"!=typeof e.init?e.init:e.start}),elements[t].css(n)}),initLoad&&(initLoad=!1)}function setTops(){var t=0;$.each(sections,function(e,n){n.show&&(sections[e].top=t,t+=$("#"+e).height())})}function loadPage(){$(window).scrollTop(0),document.body.scrollTop=document.documentElement.scrollTop=0,$.each(elements,function(t,e){elements[t]=$(e)}),sectionsArr=[],$.each(sections,function(t,e){sectionsArr.push(t)}),getDimensions(),setDimensions(),$.each(sections,function(t,e){e.show&&$("#"+t).removeClass("hide")}),setTops();TopMenu({}),Sections({});elements.navMenu.css({"margin-top":"-51px"}),elements.divLoading.delay(500).fadeOut(500),elements.blobHome.removeClass("hide"),elements.blobHome.delay(1500).next_css({"margin-left":.15*viewerWidth})}$.fn.extend({next_css:function(t){return $(this).queue(function(e){$(this).css(t),e()})}});var TopMenu=function(t){return this.sectionsArr=[],this.sectionsIdx=[],this.init=function(t){this.buildMenu(),this.watchScrolling(),this.bindMenu()},this.buildMenu=function(){var t=this,e="";$.each(sections,function(n,s){if(s.menu){var o=n.toLowerCase().replace(/\b[a-z]/g,function(t){return t.toUpperCase()}),i=$("<span>").attr({id:"link-"+n,"data-section":n,"class":s.isDefault?"link active":"link inactive"}).html(o);elements.divLinks.append(i),e=n}s.show&&(t.sectionsIdx.push(e),t.sectionsArr.push(n))})},this.watchScrolling=function(){var t=0,e=0,n=0,s=0,o=this.sectionsArr,i=this.sectionsIdx,c=0;n=sections[this.sectionsArr[1]].top,$(window).scroll(function(){c=$(window).scrollTop(),null!=n&&c>n?e++:s>c&&s>0&&e--,e!=t&&($("#link-"+i[t]).removeClass("active").addClass("inactive"),$("#link-"+i[e]).removeClass("inactive").addClass("active"),t=e,s=sections[o[t]].top,n=t+1<o.length?sections[o[t+1]].top:null)})},this.bindMenu=function(){$(".link").on("click",this.scrollToSection)},this.scrollToSection=function(t){var e=$(t.target);if(e.hasClass("inactive")){var n=$("#"+e.data("section"));$("html, body").animate({scrollTop:n.offset().top-(elements.navMenu.height()+12)},"slow")}},this.init(t)},Sections=function(t){return this.sectionsArr=[],this.init=function(t){this.setupVars(),this.watchScrolling()},this.setupVars=function(){var t=this;$.each(sections,function(e,n){n.show&&t.sectionsArr.push(e)})},this.watchScrolling=function(){var t=nextIdx=nextTop=prevTop=scrollTop=height=c=y=0,e=this.sectionsArr;nextTop=sections[this.sectionsArr[1]].top,$(window).scroll(function(){scrollTop=$(window).scrollTop();var n={home:$("#home"),projects:$("#projects"),about:$("#about"),contact:$("#contact")},s={home:{blob:{start:{start:0,end:0},end:{start:.15*viewerHeight,end:.5*viewerHeight}}},projects:{me:{start:{start:0,end:0},end:{start:0,end:0}}},about:{me:{start:{start:n.about.offset().top-(viewerHeight-.01*viewerHeight),end:n.about.offset().top-(viewerHeight-.15*viewerHeight)},end:{start:n.about.offset().top-(viewerHeight-.75*viewerHeight),end:n.about.offset().top-(viewerHeight-.944*viewerHeight)}}},contact:{me:{start:{start:0,end:0},end:{start:0,end:0}}}};points=s.home.blob,points.end.start>0&&(end=points.end,scrollTop>=end.start&&scrollTop<=end.end?(c=end.end-end.start,y=1- -1*(-1/c*scrollTop+end.start/c),elements.blobHome.css({opacity:y})):scrollTop<end.start?elements.blobHome.css({opacity:"1"}):elements.blobHome.css({opacity:"0"})),points=s.about.me,points.start.start>0&&(start=points.start,end=points.end,scrollTop>=start.start&&scrollTop<=start.end?(c=start.end-start.start,y=-1*(-1/c*scrollTop+start.start/c),elements.divMe.css({"margin-top":-50*y+"px"})):scrollTop>=end.start&&scrollTop<=end.end?(c=end.end-end.start,y=1- -1*(-1/c*scrollTop+end.start/c),elements.divMe.css({"margin-top":-50*y+"px"})):scrollTop>start.end&&scrollTop<end.start?elements.divMe.css({"margin-top":"-50px"}):elements.divMe.css({"margin-top":"0px"})),null!=nextTop&&scrollTop>nextTop?nextIdx++:scrollTop<prevTop&&prevTop>0&&nextIdx--,nextIdx!=t&&(t=nextIdx,prevTop=sections[e[t]].top,nextTop=t+1<e.length?sections[e[t+1]].top:null)})},this.init()},sections={home:{isDefault:!0,menu:!0,show:!0,top:0},projects:{isDefault:!1,menu:!1,show:!1,top:0},about:{isDefault:!1,menu:!0,show:!0,top:0},usmc:{isDefault:!1,menu:!1,show:!1,top:0},mu:{isDefault:!1,menu:!1,show:!1,top:0},contact:{isDefault:!1,menu:!0,show:!0,top:0}},elements={blobAbout:"#about .blob",blobContact:"#contact .blob",blobHome:"#home .blob",divFooter:"#contact #footer",divLinks:"#links",divLoading:"#loading",divMe:"#about #me",navMenu:"#menu"},initLoad=!0,viewerHeight,viewerWidth;$(window).on("load",function(){setTimeout(function(){loadPage()},10)}),$(window).resize(function(){getDimensions(),setDimensions(),setTops()});